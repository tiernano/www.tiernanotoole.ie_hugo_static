<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Docker on Tiernan&#39;s Comms Closet </title>
    <link>https://tiernano.github.io/www.tiernanotoole.ie_hugo_static/tags/docker/</link>
    <description>Recent content in Docker on Tiernan&#39;s Comms Closet </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 15 Nov 2016 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://tiernano.github.io/www.tiernanotoole.ie_hugo_static/tags/docker/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Docker Jekyll and Mr ngrok</title>
      <link>https://tiernano.github.io/www.tiernanotoole.ie_hugo_static/post/docker-jekyll-and-mr-ngrock/</link>
      <pubDate>Tue, 15 Nov 2016 00:00:00 +0000</pubDate>
      <guid>https://tiernano.github.io/www.tiernanotoole.ie_hugo_static/post/docker-jekyll-and-mr-ngrock/</guid>
      <description>&lt;p&gt;See what i did with the title?! Anyway, in &lt;a href=&#34;https://www.tiernanotoole.ie/2016/11/02/building-jekyll-sites-with-docker-on-windows.html&#34;&gt;my last post&lt;/a&gt;, i explained how i was building this site with Docker running on Windows 10 with the Anniversary update. Today, i am going to show you how to host it using &lt;a href=&#34;https://www.nginx.com/&#34;&gt;Nginx&lt;/a&gt; and &lt;a href=&#34;https://ngrok.com/&#34;&gt;ngrok&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So, first, you should know what Nginx is at this stage&amp;hellip; If not, check out &lt;a href=&#34;https://www.nginx.com/&#34;&gt;their site&lt;/a&gt;. Next &lt;a href=&#34;https://ngrok.com/&#34;&gt;ngrok&lt;/a&gt; is basically a way of tunneling your localhost to the web. So, how do we build the whole lot together and serve your site to the internet? Well, this is what i have so far:&lt;/p&gt;

&lt;p&gt;First, build your site in jekyll. for me, the command is&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run --rm -v &amp;quot;$(pwd):/src&amp;quot; -w /src ruby sh -c &#39;bundle install --path vendor/bundle &amp;amp;&amp;amp; exec jekyll build -s www.tiernanotoole.ie/ -d www.tiernanotoole.ie/_site/&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;next, run an nginx server with that output folder:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run --name tiernanotoolenginx -v &amp;quot;$(pwd)/www.tiernanotoole.ie/_site/:/usr/share/nginx/html:ro&amp;quot; -d -p 8881:80 nginx
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;the docker container is called tiernanotoolenginx, since i could have multiple ones, and port 8881 is being redirected to port 80 on that container, but technically, it might not be needed due to the next command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;docker run --rm -it --link tiernanotoolenginx wernight/ngrok ngrok http tiernanotoolenginx:80
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;essentially, what we are doing here is running ngrok and pointing it at post 80 on the nginx container&amp;hellip; you see i did not point at 8881, since we are using the continer directly&amp;hellip; it might be different if you were not&amp;hellip;&lt;/p&gt;

&lt;p&gt;when that command runs, you get a screen telling you the URL of your site with some basic stats. your site is now hosted publically, via an ngrok tunnel! you could run that container as a daemon, and leave it running, but for me, i wanted to do some minor testing, so i can kill it when i want&amp;hellip;&lt;/p&gt;

&lt;p&gt;So, all is good with the world!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Building Jekyll sites with Docker on Windows</title>
      <link>https://tiernano.github.io/www.tiernanotoole.ie_hugo_static/post/building-jekyll-sites-with-docker-on-windows/</link>
      <pubDate>Wed, 02 Nov 2016 00:00:00 +0000</pubDate>
      <guid>https://tiernano.github.io/www.tiernanotoole.ie_hugo_static/post/building-jekyll-sites-with-docker-on-windows/</guid>
      <description>&lt;p&gt;As some of you probably know (or based on the footer of the site) this site is built with &lt;a href=&#34;https://jekyllrb.com/&#34;&gt;Jekyll&lt;/a&gt;. Jekyll is a static web site builder, written in Ruby, and is a bit of a pain to build on Windows. Earlier on this year, I &lt;a href=&#34;https://www.tiernanotoole.ie/2016/04/11/installing-jekyll-on-bash-on-ubuntu-on-windows.html&#34;&gt;wrote up a post&lt;/a&gt; explaining how to use Jekyll on Windows using Bash on Ubuntu on Windows&amp;hellip; It was a bit complicated, and, well, worked a few times, but was not too successfull&amp;hellip; So, were do we go next? Well, &lt;a href=&#34;http://www.docker.io&#34;&gt;Docker&lt;/a&gt; to the rescue!&lt;/p&gt;

&lt;p&gt;I am running the &lt;a href=&#34;https://blogs.windows.com/windowsexperience/2016/08/02/how-to-get-the-windows-10-anniversary-update/&#34;&gt;Windows 10 Anniversary edtion&lt;/a&gt; witch has &lt;a href=&#34;https://msdn.microsoft.com/en-us/virtualization/windowscontainers/quick_start/quick_start_windows_10&#34;&gt;container&lt;/a&gt; and &lt;a href=&#34;https://docs.docker.com/engine/getstarted/step_one/&#34;&gt;docker support&lt;/a&gt;.  using the &lt;a href=&#34;https://github.com/tiernano/www.tiernanotoole.ie-docker&#34;&gt;repo for this site&lt;/a&gt; and the scripts (specifically &lt;a href=&#34;https://github.com/tiernano/www.tiernanotoole.ie-docker/blob/master/build-tiernanotooleie&#34;&gt;build-tiernanotooleie&lt;/a&gt; and &lt;a href=&#34;https://github.com/tiernano/www.tiernanotoole.ie-docker/blob/master/geekphotographer.com&#34;&gt;geekphotographer.com&lt;/a&gt;) i can build the docker site on my local Windows machine and upload the sites as required (I host on &lt;a href=&#34;http://www.nearlyfreespeech.net&#34;&gt;NFSN&lt;/a&gt; and upload via &lt;a href=&#34;https://en.wikipedia.org/wiki/Rsync&#34;&gt;RSync&lt;/a&gt;). The docker image i build from is a Linux docker image, do i need a Linux container running (and the docker tooling). I also use Bash on Ubuntu on Windows to upload using RSync. All is going well so far&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
