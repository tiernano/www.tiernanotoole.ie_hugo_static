<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>moving your TMG SQL server Logs DB and other TMG tips | Tiernan&#39;s Comms Closet</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">moving your TMG SQL server Logs DB and other TMG tips</span></h1>

<h2 class="date">2012/11/22</h2>
</div>

<main>
<p>In house, I have been using <a href="http://www.microsoft.com/tmg">Microsoft TMG 2010 Server</a> for a while now. I use it as a firewall for some of the machines on the network, and also as a proxy for most, if not all, machines. When acting as a Firewall, all traffic flows though the machine, be it HTTP/HTTPS, SMTP/POP3/IMAP, or anything for that matter. You can also lock down ports on the box, which is a feature of most firewalls, but i like TMG due to its relitive ease of use&hellip;</p>

<p>Anyway, one problem with routing all traffic from different machines though TMG is after a while, the logging starts getting big. Single TMG by default is set to use <a href="http://www.microsoft.com/sql">SQL Server</a>, it can start using lots of memory, hard drive space, etc. So, there are a couple of articles which should make moving your TMG&rsquo;s SQL DB to a different machine easier&hellip;</p>

<ul>
<li><a href="http://technet.microsoft.com/en-us/library/bb794937.aspx">Configuring Forefront TMG Logs</a></li>
<li><a href="http://technet.microsoft.com/en-us/library/dd441079.aspx">Configuring (TMG) logging to a remote server</a></li>
<li><a href="http://www.isaserver.org/tutorials/How-configure-Forefront-TMG-logging-into-central-Microsoft-SQL-Server-database.html">How to configure Forefront TMG logging into a central Microsoft SQL Server database</a></li>
</ul>

<p>Some other tips you may find useful</p>

<ul>
<li>If you have Malware Inspection turned on, but you know there are certain sites that wont serve Malware (for example, Ubutnu Archives or YouTube.com) you can add these to the &ldquo;Destination Exceptions&rdquo; list. Under &ldquo;Web Access Policy&rdquo;, click &ldquo;Malware Inspection&rdquo; and click &ldquo;Destination Exceptions&rdquo;. Double click on the &ldquo;Sites Exempt from Malware Inspection&rdquo; and add your URL. I put *.ubuntu.com and *.youtube.com in here (Microsoft Updates are already on the list). Now, when downloading files from these locations, they do not run though inspection and save CPU cycles. <strong>WANRING</strong> You need to trust these sites!</li>
<li>There is a nice little app to add into TMG called <a href="http://www.bsplitter.com/">Bandwidth Splitter</a> which allows you to not only monitor what traffic is going though your network, but also put limits on different machine sets, users, etc. There is a <a href="http://www.bsplitter.com/download.aspx#trial_restrictions">Free editon</a> which works with only 10 clients, but does what i need it to do to start with.</li>
</ul>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

