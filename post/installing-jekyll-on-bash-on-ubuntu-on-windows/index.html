<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Installing Jekyll on Bash On Ubuntu on Windows | Tiernan&#39;s Comms Closet</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">Installing Jekyll on Bash On Ubuntu on Windows</span></h1>

<h2 class="date">2016/04/11</h2>
</div>

<main>
<p>At the 2016 Build conference, Microsoft announced that <a href="https://www.tiernanotoole.ie/2016/03/31/bash-on-ubuntu-on-windows.html">Bash on Ubuntu on Windows</a> was coming. Well, it <a href="https://blogs.msdn.microsoft.com/commandline/2016/04/06/bash-on-ubuntu-on-windows-download-now-3/">came out last week</a>, and I installed it as soon as I could! My next challenge was to get <a href="https://jekyllrb.com/">Jekyll</a> to run and install on it, so I can build and preview this site on my <a href="https://www.microsoft.com/surface/en-us/devices/surface-book">Surface Book</a>.</p>

<p>So, first, I needed to install version 2.0 of Ruby. There is a bit of messing involved for this, but first</p>

<pre><code>apt-get update
apt-get install ruby2.0
</code></pre>

<p>Now, when you run</p>

<pre><code>ruby -v
</code></pre>

<p>you will still see ruby 1.9.x installed&hellip; and the github-pages gem, which includes Jekyll 3, requires ruby 2.0&hellip; ugh. after reading <a href="https://bugs.launchpad.net/ubuntu/+source/ruby2.0/+bug/1310292">this very long bug report</a> I got this:</p>

<pre><code># Rename original out of the way, so updates / reinstalls don't squash our hack fix
dpkg-divert --add --rename --divert /usr/bin/ruby.divert /usr/bin/ruby
dpkg-divert --add --rename --divert /usr/bin/gem.divert /usr/bin/gem
# Create an alternatives entry pointing ruby -&gt; ruby2.0
update-alternatives --install /usr/bin/ruby ruby /usr/bin/ruby2.0 1
update-alternatives --install /usr/bin/gem gem /usr/bin/gem2.0 1
</code></pre>

<p>Now, when I run ruby -v, I am told I am on version 2.0! Happy days! Next, i installed bundler using</p>

<pre><code>gem install bundler
</code></pre>

<p>which uses a <a href="https://github.com/tiernano/www.tiernanotoole.ie/blob/master/Gemfile">Gemfile</a> to install the required gems, so running</p>

<pre><code>bundle install
</code></pre>

<p><em>should</em> install all required gems but no luck&hellip; I tried adding ruby2.0 dev to the mix</p>

<pre><code>apt-get install ruby2.0-dev
</code></pre>

<p>but running jekyll from bash said it did not exist, and running</p>

<pre><code>bundle exec jekyll build
</code></pre>

<p>failed with a memory issue&hellip; ugh&hellip;</p>

<p>Anyway, next, I tried</p>

<pre><code>gem install github-pages -V
</code></pre>

<p>-v makes it verbose, so you can see what&rsquo;s going on&hellip; after a bit of time, and lots of output to the screen&hellip;</p>

<pre><code>jekyll build
bash: /usr/bin/jekyll: No such file or directory
</code></pre>

<p>FECK! So, after a bit more digging, i find that jekyll is actually in /usr/local/bin/jekyll</p>

<pre><code>ln /usr/local/bin/jekyll /usr/bin/jekyll
</code></pre>

<p>solves that problem!</p>

<p>now running</p>

<pre><code>jekyll build
</code></pre>

<p>works perfectly, as does</p>

<pre><code>jekyll serve
</code></pre>

<p>HAPPY DAYS! Mind you, I am only using this as a testing and writing system. I have not tried <a href="https://github.com/laurilehmijoki/s3_website">s3_website</a> just yet, but that is being sorted elsewhere anyway. Maybe my next post will explain that&hellip;</p>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

