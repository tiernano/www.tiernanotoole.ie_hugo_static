<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ZFS Home storage pool | Tiernan&#39;s Comms Closet</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">ZFS Home storage pool</span></h1>

<h2 class="date">2015/08/10</h2>
</div>

<main>
<p>Over the weekend, my <a href="https://btrfs.wiki.kernel.org/index.php/Main_Page">BTRFS</a> pool for my /home directory on Linux failed&hellip; Not sure what happened, but it made me
do something i wanted to do for a while: Build a <a href="https://en.wikipedia.org/wiki/ZFS">ZFS</a> pool for my home dir.</p>

<p>First things first, the pool consists of 4 2Tb hard drives and 1 128Gb SSD. Its setup in RAIDZ1 (equivilent of RAID 5)
and then the SSD is set for caching.</p>

<p>To create the pool i ran</p>

<pre><code>zpool create home raidz sda sde sdf sdg
</code></pre>

<p>then, to add the cache drive</p>

<pre><code>zpool add home cache sdd
</code></pre>

<p>the pool (in my case) got mounted to /home, and then i restored my backup to it. to do some tests, i can the
following&hellip;</p>

<script src="//gist.github.com/tiernano/638891a7d9acac8e396f.js"></script>

<p>614MB/s write and 5.3GB a second read is nothing to be sniffed at! :)</p>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

